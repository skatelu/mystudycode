/**
 * KJDP4.0.0
 * Copyright (c) 2009-2016 www.szkingdom.com. All rights reserved.
 */
!function(a,b){function c(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function d(){return A++}function e(a){return a.match(D)[0]}function f(a){for(a=a.replace(E,"/"),a=a.replace(G,"$1/");a.match(F);)a=a.replace(F,"/");return a}function g(a){var b=a.length-1,c=a.charAt(b);return"#"===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||"/"===c?a:a+".js"}function h(a){var b=v.alias;return b&&x(b[a])?b[a]:a}function i(a){var b,c=v.paths;return c&&(b=a.match(H))&&x(c[b[1]])&&(a=c[b[1]]+b[2]),a}function j(a){var b=v.vars;return b&&a.indexOf("{")>-1&&(a=a.replace(I,function(a,c){return x(b[c])?b[c]:a})),a}function k(a){var b=v.map,c=a;if(b)for(var d=0,e=b.length;e>d;d++){var f=b[d];if(c=z(f)?f(a)||a:a.replace(f[0],f[1]),c!==a)break}return c}function l(a,b){var c,d=a.charAt(0);if(J.test(a))c=a;else if("."===d)c=f((b?e(b):v.cwd)+a);else if("/"===d){var g=v.cwd.match(K);c=g?g[0]+a.substring(1):a}else c=v.base+a;return 0===c.indexOf("//")&&(c=location.protocol+c),c}function m(a,b){if(!a)return"";a=h(a),a=i(a),a=j(a),a=g(a);var c=l(a,b);return c=k(c)}function n(a){var b={};for(var c in a)b[c]="object"==typeof a[c]?n(a[c]):a[c];return b}function o(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function p(a,b,c){var d=L.createElement("script");if(c){var e=z(c)?c(a):c;e&&(d.charset=e)}q(d,b,a),d.async=!0,d.src=a,Q=d,T?S.insertBefore(d,T):S.appendChild(d),Q=null}function q(a,b,c){function d(){a.onload=a.onerror=a.onreadystatechange=null,v.debug||S.removeChild(a),a=null,b()}var e="onload"in a;e?(a.onload=d,a.onerror=function(){C("error",{uri:c,node:a}),d()}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&d()}}function r(){if(Q)return Q;if(R&&"interactive"===R.readyState)return R;for(var a=S.getElementsByTagName("script"),b=a.length-1;b>=0;b--){var c=a[b];if("interactive"===c.readyState)return R=c}}function s(a){var b=[];return a.replace(W,"").replace(V,function(a,c,d){d&&b.push(d)}),b}function t(a,b,c){this.uri=a,this.dependencies=b||[],this.exports=null,this.status=0,this._waitings={},this._allWaitings=c?n(c):{},this._remain=0}if(!a.seajs){var u=a.seajs={version:"2.3.0"},v=u.data={},w=c("Object"),x=c("String"),y=Array.isArray||c("Array"),z=c("Function"),A=0,B=v.events={};u.on=function(a,b){var c=B[a]||(B[a]=[]);return c.push(b),u},u.off=function(a,b){if(!a&&!b)return B=v.events={},u;var c=B[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);else delete B[a];return u};var C=u.emit=function(a,b){var c=B[a];if(c){c=c.slice();for(var d=0,e=c.length;e>d;d++)c[d](b)}return u},D=/[^?#]*\//,E=/\/\.\//g,F=/\/[^\/]+\/\.\.\//,G=/([^:\/])\/+\//g,H=/^([^\/:]+)(\/.+)$/,I=/{([^{]+)}/g,J=/^\/\/.|:\//,K=/^.*?\/\/.*?\//,L=document,M=location.href&&0!==location.href.indexOf("about:")?e(location.href):"",N=L.scripts,O=L.getElementById("seajsnode")||N[N.length-1],P=e(o(O)||M);u.resolve=m;var Q,R,S=L.head||L.getElementsByTagName("head")[0]||L.documentElement,T=S.getElementsByTagName("base")[0];u.request=p;var U,V=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,W=/\\\\/g,X=u.cache={},Y={},Z={},$={},_=t.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};t.prototype.resolve=function(){for(var a=this,b=a.dependencies,c=[],d=0,e=b.length;e>d;d++)c[d]=t.resolve(b[d],a.uri);return c},t.prototype.load=function(){var a=this;if(!(a.status>=_.LOADING)){a.status=_.LOADING;var b=a.resolve();C("load",b);for(var c,d=a._remain=b.length,e=0;d>e;e++)if(c=t.get(b[e],null,a._allWaitings),c.status<_.LOADED){if(a._allWaitings.hasOwnProperty(c.id))throw"模块["+a.id+"]循环依赖模块["+c.id+"]";c._allWaitings[a.uri]=c._waitings[a.uri]=(c._waitings[a.uri]||0)+1}else a._remain--;if(0===a._remain)return void a.onload();var f={};for(e=0;d>e;e++)c=X[b[e]],c.status<_.FETCHING?c.fetch(f):c.status===_.SAVED&&c.load();for(var g in f)f.hasOwnProperty(g)&&f[g]()}},t.prototype.onload=function(){var a=this;a.status=_.LOADED,a.callback&&a.callback();var b,c,d=a._waitings;for(b in d)d.hasOwnProperty(b)&&(c=X[b],c._remain-=d[b],0===c._remain&&c.onload());delete a._waitings,delete a._remain},t.prototype.fetch=function(a){function b(){u.request(f.requestUri,f.onRequest,f.charset)}function c(){delete Y[g],Z[g]=!0,U&&(t.save(e,U),U=null);var a,b=$[g];for(delete $[g];a=b.shift();)a.load()}var d=this,e=d.uri;d.status=_.FETCHING;var f={uri:e};C("fetch",f);var g=f.requestUri||e;return!g||Z[g]?void d.load():Y[g]?void $[g].push(d):(Y[g]=!0,$[g]=[d],C("request",f={uri:e,requestUri:g,onRequest:c,charset:v.charset}),void(f.requested||(a?a[f.requestUri]=b:b())))},t.prototype.exec=function(){function a(b){return t.get(a.resolve(b)).exec()}var c=this;if(c.status>=_.EXECUTING)return c.exports;c.status=_.EXECUTING;var e=c.uri;a.resolve=function(a){return t.resolve(a,e)},a.async=function(b,c){return t.use(b,c,e+"_async_"+d()),a};var f=c.factory,g=z(f)?f(a,c.exports={},c):f;return g===b&&(g=c.exports),delete c.factory,c.exports=g,c.status=_.EXECUTED,C("exec",c),g},t.resolve=function(a,b){var c={id:a,refUri:b};return C("resolve",c),c.uri||u.resolve(c.id,b)},t.define=function(a,c,d){var e=arguments.length;1===e?(d=a,a=b):2===e&&(d=c,y(a)?(c=a,a=b):c=b),!y(c)&&z(d)&&(c=s(d.toString()));var f={id:a,uri:t.resolve(a),deps:c,factory:d};if(!f.uri&&L.attachEvent){var g=r();g&&(f.uri=g.src)}C("define",f),f.uri?t.save(f.uri,f):U=f},t.save=function(a,b){var c=t.get(a);c.status<_.SAVED&&(c.id=b.id||a,c.dependencies=b.deps||[],c.factory=b.factory,c.status=_.SAVED,C("save",c))},t.get=function(a,b,c){return X[a]||(X[a]=new t(a,b,c))},t.use=function(b,c,d){var e=t.get(d,y(b)?b:[b]);e.callback=function(){for(var b=[],d=e.resolve(),f=0,g=d.length;g>f;f++)b[f]=X[d[f]].exec();c&&c.apply(a,b),delete e.callback},e.load()},u.use=function(a,b){return t.use(a,b,v.cwd+"_use_"+d()),u},t.define.cmd={},a.define=t.define,u.Module=t,v.fetchedList=Z,v.cid=d,u.require=function(a){var b=t.get(t.resolve(a));return b.status<_.EXECUTING&&(b.onload(),b.exec()),b.exports},v.base=P,v.dir=P,v.cwd=M,v.charset="utf-8",u.config=function(a){for(var b in a){var c=a[b],d=v[b];if(d&&w(d))for(var e in c)d[e]=c[e];else y(d)?c=d.concat(c):"base"===b&&("/"!==c.slice(-1)&&(c+="/"),c=l(c)),v[b]=c}return C("config",a),u}}}(this),!function(a){function b(b,c,d){a[b]=c,"string"==typeof d&&(a[d]=c)}function c(a){var b=new RegExp("("+a+")=([^&#]*)","g"),c=location.href.match(b);return c&&c[0]?c[0].replace(a+"=",""):null}var d=document.getElementById("seajsnode")||document.scripts[document.scripts.length-1],e=seajs.use;seajs.use=null,seajs.config({alias:{frameworks:"lib/frameworks",core:"lib/core",kui:"lib/kui"}}),b("kjdp",{name:"kjdp",version:"4.0.0",theme:c("theme")||"default"});var f=document.head||document.getElementsByTagName("head")[0],g=document.createElement("link");g.setAttribute("rel","stylesheet"),g.setAttribute("href",seajs.resolve("lib/kui/themes/"+kjdp.theme+".css#")),f.insertBefore(g,f.firstChild),e("frameworks",function(f){for(var g in f)b(g,f[g]);b("use",function(a){var b=$.Deferred();return e(a,function(){b.resolveWith(this,arguments)}),b.promise()}),use("core").then(function(e){for(var f in e)b(f,e[f]);b("urlParam",e.uri.urlParam),b("resolve",e.uri.resolve),$.parser=parser,use("kui").then(function(e){b("ajaxRequest",e.ajaxRequest),b("$alert",a.alert),b("$confirm",a.confirm),b("$prompt",a.prompt),b("alert",e.message.alert),b("confirm",e.message.confirm),b("prompt",e.message.prompt),b("loading",e.message.loading),b("rules",$.fn.validatebox.defaults.rules),b("kui",e.kui),$(function(){function a(a){var d,e="true"===c("noscroll");b.addClass("visible clearfix"),window.frameElement&&e&&b.addClass("noscroll"),a&&(d=parser.getContextObj())&&$.isFunction(d.$ready)&&d.$ready()}var b=$("body"),e="false"!==d.getAttribute("data-autoparse"),f=d.getAttribute("data-main");use(f).then(function(c){parser.setContextObj(c),e?parser.director(b).then(function(){a(!0)},function(){a(!1)}):a(!0)}),$(document).on("keydown.kjdp",function(a){8===a.keyCode&&"body"===$(a.target).getTagName()&&a.preventDefault()})})})})})}(this);